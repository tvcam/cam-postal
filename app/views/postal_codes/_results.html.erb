<div class="results-section">
  <% if query.present? %>
    <% if results.any? %>
      <p class="results-count">Found <%= results.size %> result<%= results.size == 1 ? '' : 's' %></p>

      <div class="results-list">
        <% results.each do |postal_code| %>
          <div class="result-card <%= postal_code.location_type %>"
               data-controller="copy"
               data-copy-text-value="<%= postal_code.postal_code %>"
               data-action="click->copy#copy">
            <div class="result-header">
              <span class="postal-code"><%= postal_code.postal_code %></span>
              <span class="location-type <%= postal_code.location_type %>"><%= postal_code.type_label %></span>
            </div>
            <div class="result-body">
              <p class="name-en"><%= highlight_match(postal_code.name_en, query) %></p>
              <% if postal_code.name_km.present? %>
                <p class="name-km"><%= highlight_match(postal_code.name_km, query) %></p>
              <% end %>
              <% if postal_code.parent_location.present? %>
                <p class="parent-location"><%= postal_code.parent_location %></p>
              <% end %>
            </div>
            <span class="copy-hint">Click to copy</span>
          </div>
        <% end %>
      </div>
    <% else %>
      <div class="no-results">
        <p>No results found for "<%= query %>"</p>
      </div>
    <% end %>
  <% else %>
    <div class="welcome-message">
      <p>Enter a search term to find postal codes</p>
    </div>
  <% end %>
</div>
