<% content_for :title, "#{t('faq.title')} - #{t('site.name')}" %>

<% content_for :head do %>
  <meta name="description" content="<%= t('faq.meta_description') %>">
  <link rel="canonical" href="<%= faq_url %>">
  <meta property="og:title" content="<%= t('faq.title') %> - <%= t('site.name') %>">
  <meta property="og:description" content="<%= t('faq.meta_description') %>">
<% end %>

<% content_for :structured_data do %>
  <!-- BreadcrumbList Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BreadcrumbList",
    "itemListElement": [
      {
        "@type": "ListItem",
        "position": 1,
        "name": "<%= t('breadcrumb.home') %>",
        "item": "https://cam-postal.gotabs.net/"
      },
      {
        "@type": "ListItem",
        "position": 2,
        "name": "<%= t('nav.faq') %>",
        "item": "https://cam-postal.gotabs.net/faq"
      }
    ]
  }
  </script>

  <!-- FAQPage Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "<%= t('faq.q1') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a1_intro') %> <%= t('faq.a1_pp') %> <%= t('faq.a1_dd') %> <%= t('faq.a1_cc') %> <%= t('faq.a1_example') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q2') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a2') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q3') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a3_intro') %> <%= t('faq.a3_search') %> <%= t('faq.a3_gps') %> <%= t('faq.a3_browse') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q4') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a4') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q5') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a5') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q6') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a6') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q7') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a7') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q8') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a8') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q9') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a9') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q10') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a10') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q11') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a11') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q12') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a12') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q13') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a13') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q14') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= t('faq.a14') %>"
        }
      },
      {
        "@type": "Question",
        "name": "<%= t('faq.q15') %>",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "<%= strip_tags(t('faq.a15_html')) %>"
        }
      }
    ]
  }
  </script>
<% end %>

<div class="faq-page">
  <nav class="breadcrumb" aria-label="Breadcrumb">
    <ol>
      <li><a href="<%= root_path %>"><%= t('breadcrumb.home') %></a></li>
      <li aria-current="page"><%= t('nav.faq') %></li>
    </ol>
  </nav>

  <header class="faq-header">
    <h1><%= t('faq.title') %></h1>
    <p class="faq-subtitle"><%= t('faq.subtitle') %></p>
  </header>

  <div class="faq-list">
    <details class="faq-item" open>
      <summary class="faq-question">
        <h2><%= t('faq.q1') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a1_intro') %></p>
        <ul>
          <li><strong>PP</strong> - <%= t('faq.a1_pp') %></li>
          <li><strong>DD</strong> - <%= t('faq.a1_dd') %></li>
          <li><strong>CC</strong> - <%= t('faq.a1_cc') %></li>
        </ul>
        <p><%= t('faq.a1_example') %></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q2') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a2') %></p>
        <p><a href="<%= province_path('phnom-penh') %>"><%= t('faq.a2_link') %> →</a></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q3') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a3_intro') %></p>
        <ol>
          <li><%= t('faq.a3_search') %></li>
          <li><%= t('faq.a3_gps') %></li>
          <li><%= t('faq.a3_browse') %></li>
        </ol>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q4') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a4') %></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q5') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a5') %></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q6') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a6') %></p>
        <p><a href="<%= province_path('siem-reap') %>"><%= t('faq.a6_link') %> →</a></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q7') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a7') %></p>
        <p><a href="<%= provinces_path %>"><%= t('faq.a7_link') %> →</a></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q8') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a8') %></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q9') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a9') %></p>
        <p class="faq-examples"><strong><%= t('faq.a9_examples') %></strong></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q10') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a10') %></p>
        <p><a href="/prakas-postal-codes.pdf" target="_blank" rel="noopener"><%= t('faq.a10_link') %> ↓</a></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q11') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a11') %></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q12') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a12') %></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q13') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a13') %></p>
        <p><a href="<%= province_district_path('kandal', 'kandal-stueng') %>"><%= t('faq.a13_link') %> →</a></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q14') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a14') %></p>
      </div>
    </details>

    <details class="faq-item">
      <summary class="faq-question">
        <h2><%= t('faq.q15') %></h2>
      </summary>
      <div class="faq-answer">
        <p><%= t('faq.a15_html') %></p>
        <p><a href="<%= api_path %>"><%= t('faq.a15_link') %> →</a></p>
      </div>
    </details>
  </div>

  <div class="faq-footer">
    <h3><%= t('faq.still_questions') %></h3>
    <p><%= t('faq.use_search') %></p>
    <div class="footer-links">
      <a href="<%= provinces_path %>" class="btn-secondary"><%= t('faq.browse_provinces') %></a>
      <a href="<%= root_path %>" class="btn-primary"><%= t('faq.search_codes') %></a>
    </div>
  </div>
</div>
